---
number: 65
title:  Каталоги файлов. Элементы каталога, операции ОС
---

**Каталог** - структура, позволяющая организоваать наборы файлов и управление ими, храня соответствия имен файлов и inode. При этом в Unix в отличие от Windows, дополнительная информация хранится в записях файла на диске

## Информация, представленная в каталоге:
  * Основные элементы:
    * Имя файла
    * Тип (бинарный, текстовый)
    * Организация внутренней структуры, определяемся по magic number (набор байт в начале файла) или части имени после точки (Windows - расширение, в Unix используется, но отсутствует как понятие)
  * Адресная информация:
    * Том - указатель на физичесткое устройство
    * Начальный адрес - номер первого блока
    * Занятый и зарезервированный размер - текущее и максимальное кол-во байт
  * Информация об упрвлении доступом:
    * Владелец (пользователь, управляющий файлом)
    * Разрешенные действия (rwx)
  * Инфрмация об использовании:
    * Дата создания и создатель
    * Дата последнего чтения и последний читатель
    * Дата послднего изменения и последний редактор
    * Дата последнего резервного хранения на другом устройстве
    * Текущее использование (открыт ли сейчас, кто читает/пишет)

## Особенности
  * Часть элементов каталога (дата, владелец и другие поля struct inode) может находиться в заголовочной записи файла -> меньше информации в каталоге -> легче кэшировать в памяти -> выше скорость
  * Каталог может быть полность или частично загружен в основную память. Большое количество файлов внутри одного каталога сильно снижает производительность 
  * Простейшая структура каталога - файл-словарь со списком записей фиксированной длины и именами файлов в качестве ключей, затем стали использоваться подкаталоги, что дало многоуровневость
  * Обычно структура каталогов - n-уровневая иерархия, дерево, связанный граф
  * В Unix и Windows всегда есть корень ФС и традиционнная архитектура каталогов, но в Unix диски подключаются к точкам монтирования, а в Windows - назначаются на отдельные буквы

## Основные операции
  * Поиск файловых записей
  * Создание/удаление записей о файле
  * Поличение списка записей
  * Обновление каталога, изменение записи
