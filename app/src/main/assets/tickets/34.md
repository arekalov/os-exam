---
number: 34
title: Примитивы синхронизации ОС. Предназначение примитивов синхронизации
---


## Примитивы синхронизации в операционных системах

**Примитивы синхронизации** — это базовые механизмы, предоставляемые ОС и языками программирования для правильной организации совместного доступа к ресурсам и координации работы между процессами/потоками при параллельном выполнении.

---

## Основные примитивы синхронизации:

- **Семафоры (Semaphore)**
  - Захват и освобождение множественного ресурса, либо одного (бинарные семафоры).
  - Чаще всего используются для ограничения числа потоков/процессов, одновременно работающих с ресурсом (например, пул соединений).

- **Мьютексы (Mutex)**
  - Блокировка и освобождение ресурса единственным процессом/потоком.
  - Только один поток может находиться в критической секции одновременно. Гарантирует взаимное исключение.

- **Условные переменные (Conditional Variable)**
  - Позволяют потоку "заснуть", ожидая наступления определённого условия, и "проснуться" по сигналу от другого потока.
  - Используются для сложных схем ожидания-пробуждения.

- **Блокировки чтения/записи (rw-lock, Read/Write Lock)**
  - Одновременная работа нескольких читателей или одного писателя.
  - Используются для оптимизации: если данные только читаются — доступ получают все, если кто-то пишет — только он один.

- **Мониторы (Monitor)**
  - Высокоуровневая конструкция (часто встроена в язык), объединяет мьютекс и условные переменные для безопасной работы с защищёнными объектами.
  - Гарантирует, что только один поток может выполнять методы монитора одновременно.

- **Флаги событий (Event Flags)**
  - Позволяют потокам синхронизироваться через состояние одного или нескольких булевых флагов.
  - Часто используются для сигнализации о наступлении определённых событий и координации переходов между состояниями.

- **Почтовые ящики (Message Passing)**
  - Механизм обмена сообщениями между процессами или потоками.
  - Применяется для передачи данных и синхронизации, подходящ для систем, где нет общей памяти (или она нежелательна).
---

## Предназначение примитивов синхронизации

Повзоляют избавиться от проблем параллельного выполнения:
### 1. Взаимоисключения (Mutual Exclusion)
- Ситуация, когда несколько параллельных процессов или потоков пытаются одновременно получить доступ к общему (разделяемому) ресурсу.
- Требуется механизм взаимного исключения, чтобы только один процесс/поток мог работать с этим ресурсом в данный момент времени (например, запись в файл, изменение переменной).

### 2. Взаимоблокировки (Deadlocks)
- Состояние, когда два или более процесса (потока) навечно ждут освобождения ресурсов, которые уже захвачены друг другом.
- Например: Процесс А захватил ресурс X и ждёт ресурс Y, удерживаемый процессом B, который в свою очередь ждёт освобождения ресурса X.
- Взаимоблокировка часто приводит к "заморозке" части системы.

### 3. Голодание (Starvation)
- Ситуация, когда процесс или поток длительно не может получить доступ к необходимому ресурсу из-за постоянной конкуренции с другими задачами.
- Возникает, если планировщик ресурсов отдаёт приоритет другим процессам или потокам, и "голодающий" процесс не получает своей очереди.
