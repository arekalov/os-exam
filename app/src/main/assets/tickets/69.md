---
number: 69
title: Индексированное размещение (на примере файловой системы UNIX UFS).
---


### Основные характеристики:
* Предварительное размещение - возможно
* При фиксированном размере порции: 
  * размер порции малый
  * частота размещение - высокая
  * время размещения - короткое
  * размер таблицы размещения файла - большой
* При переменном размере порции
  * размер порции - средний
  * частота размещения - низкая
  * время размещения - среднее
  * размер таблицы размещения файла - среднее
  
## Схема представления 1 файла в UNUX UFS
![](images/69_index.png)

### По факту представляет:
* набор информационных полей (размер, кол-во ссылок, время создания, флаги и другие) 
* 2 массива, хранящих содержимое файла
  * ic_db (direct block) хранит непосредственно 12 блоков, в которых расположено "начало файла", сколько поместится
  * если не поместилось, ic_ib (indirect block), содержащий всего 3 элемента, соответствующие 3 уровням косвенности
    * ic_ib[0] - хранит **ссылку** на массив блоков, в которых лежит продолжение файла
    * ic_ib[1] - хранит **ссылку на массив ссылок**, куда поместится гораздо больше блоков
    * ic_ib[2] - хранит **ссылку на массив ссылок на массивы ссылок**
  * Это позволяет не располагать огромный файл в одном месте, а с помощью ссылок распределить по файловой системе, как будет удобно

## Типы файлов в UNIX SVR4:
* обычные файлы
* директории
* блочные устройства
* символьные устройства
* именованные каналы (pipes)
* жесткие ссылки
* символические ссылки

### Представление зависи в директории (direct):
* d_ino - указатель на  inode
* d_reclen - размер записи
* d_namelen - размер имени
* d_name[2526] - имя

