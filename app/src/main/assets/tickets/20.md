---
number: 20
title:  Общая архитектура Windows. Windows API
---

## Общая архитектура Windows

Операционная система Windows построена по принципу модульности и многослойности. Вся архитектура делится на два основных уровня:

### 1. Пользовательский режим (User Mode)
- **Пользовательские приложения** (браузеры, редакторы, игры и т.д.)
- **Пользовательские библиотеки** (например, Windows API — DLL)
- **Подсистемы совместимости** (например, Win32, POSIX, WoW64)
- **Службы Windows (Windows Services)** — фоновые процессы

### 2. Ядровой режим (Kernel Mode)
- **Ядро Windows (Windows Kernel)** — отвечает за низкоуровневое управление процессами, памятью, синхронизацию и системные вызовы
- **HAL (Hardware Abstraction Layer)** — аппаратно-независимый слой для работы с оборудованием
- **Системные драйверы устройств** — обеспечивают взаимодействие с физическим оборудованием (диски, USB, сеть, видео и др.)
- **Executive** — высокоуровневые службы ядра (управление процессами, памятью, ввод-вывод, безопасность, объектная модель)
- **Модули ядра** — диспетчер кэша, виртуальная память, планировщик, файловые системы

---

## Windows API

**Windows API** (или WinAPI) — основной набор функций, протоколов, структур данных, доступных приложениями для взаимодействия с средствами и ресурсами Windows.

### Основные группы Windows API:

- **Base Services** — создание процессов, файловые операции, ввод-вывод, память, потоки, синхронизация
- **Graphics Device Interface (GDI)** — рисование графики, работа с окнами, шрифтами, изображениями
- **User Interface** — взаимодействие с пользователем: окна, диалоги, меню, управление мышью и клавиатурой
- **Network API** — работа с сетевыми соединениями, протоколами, безопасностью передачи данных
- **Service API** — управление сервисами Windows (службами)

**Особенности:**
- Реализованы как динамические библиотеки (*.dll) — kernel32.dll, user32.dll, gdi32.dll, advapi32.dll и другое
- Используются как C/C++ программами, так и другими (через обертки и языки .NET)
- Считается основным способом написания нативных Windows-приложений
